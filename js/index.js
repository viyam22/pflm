

var recruitData={
    "code": 1,
    "msg": "消息",
    "data": [{
        "post": "资深文案",
        "department": "IP内容事业部",
        "number": 2,
        "describe": [
            "完成所有撰文的相关工作；",
            "了解客户需求，并密切与客户部,策略和其他相关部门合作，并且能够把客户的需求贯彻到创意当中；",
            "熟知所负责的所有品牌的文字调性。"
        ],
        "requirement": [
            "热爱文字，爱好广泛；",
            "有天马行空，机灵古怪的想法；",
            "具有很强的文字功底，对文字精益求精；",
            "熟悉网络，擅长用网络语言与用户沟通，了解互动整合营销；",
            "具有很强的时间及团队合作观念，善于沟通；",
            "优秀的口头表达能力及提案能力。"
        ]
    },{
        "post": "平面设计师",
        "department": "IP内容事业部",
        "number": 1,
        "describe": [
            "根据客户需求提出设计思路及定位，整体把控和执行项目，并对设计作品进行完善和修改；",
            "配合上级完成团队分配任务，能独立完成微信微博相关设计，包括海报、banner、长图等；",
            "对H5互动游戏及界面UI等有一定了解。"
        ],
        "requirement": [
            "有扎实的美术功底，对设计发自真心的热爱，不将就，追求完美和提高；",
            "熟练操作PS、AI、Coreldraw等，会ID和AE更佳；",
            "有独特的思维和创意，对新锐事物有敏锐的观察力，对设计流行趋势有把握能力，对色彩有良好的感受，有审美和艺术领悟力；",
            "有良好的工作态度和责任心，做事有始有终，按时按质完成上级安排的工作；",
            "善于沟通合作，我们是一个协作的团队，每一个人都是团队重要的一部分，大家共同创作完美的设计作品；",
            "有成功而优秀的商业作品，以及出色的代表作品优先。"
        ]
    },{
        "post": "微信公众号运营经理",
        "department": "广州运营部",
        "number": 1,
        "describe": [
            "负责微信公众账号的整体运营管理，包括优化改版、架构调整、产品调整来增强用户体验；",
            "参与微信号公众号营销策略和年度计划的制定；",
            "参与团队执行各项经营计划；",
            "策划、组织微信公众号的推广活动，并进行分析和效果评估；",
            "负责策划网络营销方案和公众号的档目与内容规划；",
            "负责制定公众号相关规则。"
        ],
        "requirement": [
            "大专以上学历，男女不限；",
            "熟悉零售类电商，B2C电子商城、APP商城运营管理经验，对公众号架构、产品和用户的体验感极为敏锐，有过成熟的用户体验改进方案和经验，对公众号的交互有较深的研究和理解。",
            "理解力好，营销策划能力强；有过成熟的节日应对方案和经验，具有良好的前瞻性和决策意识能力；",
            "对微信有较深的认识，做过APP、微信商城运营经理、产品经理经验者优先考虑。",
            "有过微信公众平台开发的经验，熟悉微信公众平台开发的各个流程以及常用接口。"
        ]
    },{
        "post": "动漫设计师",
        "department": "IP内容事业部",
        "number": 1,
        "describe": [
            "负责漫画、动画创意制作，包括但不限于漫画绘制、动画绘制、视频制作等；",
            "负责其它设计创意输出工作，包括平面设计、海报设计、H5设计、表情包设计、周边设计等",
            "参与故事剧本、周边开发等创意发想。"
        ],
        "requirement": [
            "二次元重度爱好者，热爱、熟悉动漫产业，对创作具有高度热情；",
            "熟练使用各类设计软件，能高质量输出优秀视觉作品；",
            "有优秀的动漫、设计案例；",
            "如能在平面、视频、互动上均有涉足，优先聘用；",
            "能独立完成工作，也能与团队良好协作；",
            "视作品质量为生命；",
            "沟通能力佳者优先聘用。"
        ]
    },{
        "post": "运营专员（杭州）",
        "department": "会员管理事业部",
        "number": 1,
        "describe": [
            "负责与客户对接项目内容，能精准地抓取客户意愿；",
            "配合参与市场调研分析，为公司策略制定提供依据；",
            "懂策划，会做简单的图片处理；",
            "对电信等通信行业有较好的洞察和理解。"
        ],
        "requirement": [
            "男女不限，活泼外向且乐观务实，善于组织协调；",
            "有电信咨询行业经验的优先考虑；",
            "具有优秀的沟通能力与语言表达能力；",
            "较强的逻辑思考能力和执行能力；"
        ]
    },{
        "post": "文案策划",
        "department": "IP内容事业部",
        "number": 2,
        "describe": [
            "能扒会卦—了解客户的产业及相关市场状况，并能洞察客户及消费者的心理，为客户提供完善的营销策划方案与品牌传播方案；",
            "能写会策—语言、传媒或营销类专业出身，文字功底扎实，能够独立撰写文案、策划方案；",
            "能思会干—理解能力强，思维活跃，创意丰富，具备较好的沟通表达能力与创意评估能力；",
            "能说会道—具备丰富的整合传播策划及客户沟通能力，并有成功案例。"
        ],
        "requirement": [
            "男女不限，活泼外向，细心严谨，思维活跃，创意丰富；",
            "行业内工作经验1年以上，具备优秀的沟通能力、语言表达能力和撰写（文案/策划）能力以及提案能力；",
            "语言、传媒或营销类专业出身，熟练运用ppt及各种办公软件，有通信行业工作经验者优先；",
            "具备良好的协作能力、学习能力以及抗压能力。"
        ]
    }]
}

$(document).ready(function () {
    $('#collapse-recruit').collapse()
    checkScreen()
    resizeWindow()
    initRecruit(recruitData)
    menuScoll()
});

function resizeWindow() {
    window.onresize = function () {
        var res;
        if (res) {
            clearTimeout(res)
        } else {
            res = setTimeout(function (e) {
                // console.info 

        ("resize=  ", window.innerWidth);
                if (window.innerWidth < 768) {  //显示"汉堡包"按钮
                    $(".navbar-bg").addClass("mobile-bg");
                    $(".navbar-fixed-top .navbar-collapse").css({
                        "max-height": (window.screen.height - 54) + "px",
                        "overflow"  : "hidden"
                    });
                    menuScoll();
                } else {  //显示PC 按钮
                    //移除按钮花纹
                    $(".navbar-bg").removeClass("mobile-bg");
                }
            }, 20);
        }
    };
}

function checkScreen() {
    // console.info(window.innerWidth,window.innerHeight);

    if (browser.iphone || browser.android) { //手机
        $("#pc-btn-list").addClass("hide-page");
        $("#mobile-btn-list").removeClass("hide-page");
        //添加按钮花纹
        $(".navbar-bg").addClass("mobile-bg");

        if (window.innerWidth < window.innerHeight) {
            // console.info("11   竖屏");
            $('#mobile-btn-list li').removeClass('navbar-nav-mobile-li');
            $(".navbar-fixed-top .navbar-collapse").css({
                "max-height": (window.screen.height - 54) + "px",
                "overflow"  : "hidden"
            });
            $("#mobile-btn-list").css("min-height", (window.screen.height - 54) + "px");
            $("#mobile-btn-list").css("max-height", (window.screen.height - 54) + "px");
            $(".navbar-bg").addClass("mobile-bg");
        } else {
            // console.info("横屏");
            if (window.innerWidth < 768) {  //显示"汉堡包"按钮
                $('.mobile-bg').css({'background-size': '30%'});
                $(".navbar-fixed-top .navbar-collapse").css({
                    "max-height": (window.screen.width - 54) + "px",
                    "overflow"  : "hidden"
                });
                $('#mobile-btn-list li').addClass('navbar-nav-mobile-li');
                $("#mobile-btn-list").css("min-height", (window.screen.width - 54) + "px");
                $("#mobile-btn-list").css("max-height", (window.screen.width - 54) + "px");
                $(".navbar-bg").addClass("mobile-bg");
                // console.info("11 横屏: ",window.screen.width,window.screen.height);
            } else {  //显示PC 按钮
                $("#pc-btn-list").removeClass("hide-page");
                $("#mobile-btn-list").addClass("hide-page");
                //移除按钮花纹
                $(".navbar-bg").removeClass("mobile-bg");
            }
        }

        window.addEventListener('orientationchange', function (event) {
            if (window.orientation == 180 || window.orientation == 0) {
                // alert("竖屏");
                $('#mobile-btn-list li').removeClass('navbar-nav-mobile-li');
                $('.mobile-bg').css({'background-size': '50%'});
                $(".navbar-fixed-top .navbar-collapse").css({
                    "max-height": (window.screen.height - 54) + "px",
                    "overflow"  : "hidden"
                });
                $("#mobile-btn-list").css("min-height", (window.screen.height - 54) + "px");
                $("#mobile-btn-list").css("max-height", (window.screen.height - 54) + "px");
            }
            if (window.orientation == 90 || window.orientation == -90) {
                // alert("横屏");
                $('#mobile-btn-list li').addClass('navbar-nav-mobile-li');
                $('.mobile-bg').css({'background-size': '30%'});
                $(".navbar-fixed-top .navbar-collapse").css({
                    "max-height": (window.screen.width - 54) + "px",
                    "overflow"  : "hidden"
                });
                $("#mobile-btn-list").css("min-height", (window.screen.width - 54) + "px");
                $("#mobile-btn-list").css("max-height", (window.screen.width - 54) + "px");
                // console.info("or 横屏: ",window.screen.height,window.screen.height);
            }
        });
    } else { //PC  ipad
        // $(".navbar-bg").addClass("mobile-bg");
       if (window.innerWidth < 768) {  //显示"汉堡包"按钮
            $(".navbar-bg").addClass("mobile-bg");
            $(".navbar-fixed-top .navbar-collapse").css({
                "max-height": (window.screen.height - 54) + "px",
                "overflow"  : "hidden"
            });
        } else {  //显示PC 按钮
            //移除按钮花纹
            $(".navbar-bg").removeClass("mobile-bg");
        }
    };

    if (browser.ipad) {
        $('.service-box-s').addClass('col-sm-4');
        $('.service-container-s').addClass('visible-md-block');
        $('.service-container-s').removeClass('hidden-md');
        $('.service-container').addClass('hidden-md');
    }
}

function initRecruit(data) {

    // console.log(data)
    if (data.code != 1) {
        alert(data.msg);
        return;
    }

    var text = '';
    var _data = data.data;
    for (var i = 0, len = _data.length; i < len; i++) {
        var _describe = _data[i].describe;
        var desText = '';
        for (var des = 0, len = _describe.length; des < len; des++) {
            desText += '<li>' + _describe[des] + '</li>'
        }

        var _requiremen = _data[i].requirement;
        var reqText = '';
        for (var req = 0, len = _requiremen.length; req < len; req++) {
            reqText += '<li>' + _requiremen[req] + '</li>'
        }
        text += '<li class="panel recruit-panel" id="recruitPanel' + i + '">' +
            '<a class="recruit-a" data-toggle="collapse" data-parent="#collapse-recruit" href="#recruit' + i + '" data-isopen="false">' +
            '<span class="recruit-type module-content-title">' + _data[i].post + '</span>' +
            '<div class="recruit-introduce">部门：' + _data[i].department + ' | 招聘人数：' + _data[i].number + '人</div>' +
            '<div class="recruit-arrow"></div>' +
            '</a>' +
            '<div class="recruit-content panel-collapse collapse" id="recruit' + i + '">' +
            '<div>职位描述：</div>' +
            '<ol>' +
            desText +
            '</ol>' +

            '<div>任职资格：</div>' +
            '<ol>' +
            reqText +
            '</ol>' +
            '</div>' +
            '</li>'
    }
    $('#collapse-recruit').append(text);

    // 箭头按钮监控事件
    $('.recruit-a').on('click', function() {
        var ele = $(this);
        if (ele[0].dataset.isopen == 'true') {
            ele.children('.recruit-arrow').toggleClass('recruit-arrow-up');
            ele[0].dataset.isopen = 'false';
        } else {
            $('.recruit-a').attr('data-isopen', 'false');
            $('.recruit-arrow').removeClass('recruit-arrow-up');
            ele.children('.recruit-arrow').toggleClass('recruit-arrow-up');
            ele[0].dataset.isopen = 'true';
        }
    });


    /*hashId = window.location.hash;
    // hashId = '#footer';
    if (hashId) {

        $root.animate({
            scrollTop: $(hashId).offset().top
        }, 600, 'easeInOutExpo', function () {
            window.location.hash = hashId;
        });
    }*/


    /*****
     ********** 1.0版本更新招聘模块hover展开事件 *************
     ******/
    // $('.recruit-panel').on('mouseover', function() {
    //     var ele = $(this).children('a');
    //     if (ele[0].dataset.isopen == 'true') {
    //         ele.children('.recruit-arrow').toggleClass('recruit-arrow-up');
    //         ele.next().toggleClass('in');
    //         ele[0].dataset.isopen = 'false';
    //     } else {
    //         $('.recruit-a').attr('data-isopen', 'false');
    //         $('.recruit-arrow').removeClass('recruit-arrow-up');
    //         $('.recruit-content').removeClass('in');
    //         ele.children('.recruit-arrow').toggleClass('recruit-arrow-up');
    //         ele.next().toggleClass('in');
    //         ele[0].dataset.isopen = 'true';
    //     }
    // });



    // mobile-btn-listSend(window.url_recruit, '', function(data) {

    // })
}